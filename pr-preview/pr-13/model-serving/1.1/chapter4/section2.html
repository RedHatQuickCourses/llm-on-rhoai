<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mistral LLM Model Inference :: Serving an LLM using OpenShift AI</title>
    <link rel="prev" href="section1.html">
    <link rel="next" href="../appendix/appendix.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Serving an LLM using OpenShift AI</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/changeme/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="model-serving" data-version="1.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Serving an LLM using OpenShift AI</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">Technical Component Intoduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section1.html">Red Hat OpenShift AI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section2.html">Large Language Models</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter2/index.html">OpenShift AI Initilization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section1.html">Installing Red&#160;Hat OpenShift AI Using the Web Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section2.html">Modifying the OpenShift AI TLS Certificate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section3.html">Configure the OpenShift AI Data Science Cluster</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter3/index.html">OpenShift AI Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section1.html">Creating OpenShift AI Resources - 1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section2.html">MinIO S3 Compatible Storage Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section3.html">OpeonShift AI Resources - 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Jupyter Notebooks &amp; Large Language Model Inference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section1.html">Jupyter Notebooks</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section2.html">Mistral LLM Model Inference</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../appendix/appendix.html">Knowledge Check</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix/section1.html">Quiz: Components of Red Hat OpenShift AI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix/section2.html">Answers to the Quiz</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Serving an LLM using OpenShift AI</span>
    <span class="version">1.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Serving an LLM using OpenShift AI</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Serving an LLM using OpenShift AI</a></li>
    <li><a href="index.html">Jupyter Notebooks &amp; Large Language Model Inference</a></li>
    <li><a href="section2.html">Mistral LLM Model Inference</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Mistral LLM Model Inference</h1>
<div id="preamble">
<div class="sectionbody">
<div class="videoblock">
<div class="content">
<video src="_images/llm_model_v3.mp4" width="640" controls>
Your browser does not support the video tag.
</video>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_the_prompt"><a class="anchor" href="#_create_the_prompt"></a>Create the Prompt</h3>
<div class="paragraph">
<p>This cell sets the <strong>system message</strong> portion of the query to our model. Normally, we don&#8217;t get the see this part of the query. This message details how the model should act, respond, and consider our questions. It adds checks to valdiate the information is best as possible, and to explain answers in detail.</p>
</div>
</div>
<div class="sect1">
<h2 id="_memory_for_the_conversation"><a class="anchor" href="#_memory_for_the_conversation"></a>Memory for the conversation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This cell keeps track of the conversation, this way history of the chat are also sent along with new chat information, keeping the context for future questions.</p>
</div>
<div class="paragraph">
<p>The next cell tracks the conversation and prints it to the Notebook output window so we can experience the full conversation list.</p>
</div>
<div class="sect2">
<h3 id="_first_input_to_our_llm"><a class="anchor" href="#_first_input_to_our_llm"></a>First input to our LLM</h3>
<div class="paragraph">
<p>The Notebooks first input to our model askes it to describe Paris in 100 words or less.</p>
</div>
<div class="paragraph">
<p>In green text is the window, there is the setup message that is sent along with the single sentence question to desctibe to the model how to consider and respond to the question.</p>
</div>
<div class="paragraph">
<p>It takes approximately 12 seconds for the model to respond with the first word of the reply, and the final word is printed to the screen approximately 30 seconds after the request was started.</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="paris.png" alt="paris" width="800">
</div>
</div>
<div class="paragraph">
<p>The responce answered the question in a well-considered and informated paragraph that is less than 100 words in length.</p>
</div>
</div>
<div class="sect2">
<h3 id="_second_input"><a class="anchor" href="#_second_input"></a>Second Input</h3>
<div class="paragraph">
<p>Notice that the Second input - "Is there a River" - does not specify where the location is that might have a River. Because the conversation history is passed with the second input, there is not need to specify any additional informaiton.</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="london.png" alt="london" width="800">
</div>
</div>
<div class="paragraph">
<p>The total time to first word took approximately 14 seconds this time, just a bit longer due the orginal information being sent. The time for the entire reponse to be printed to the screen just took over 4 seoncds.</p>
</div>
<div class="paragraph">
<p>Overall our Model is performing well without a GPU and in a container limited to 4 cpus &amp; 10Gb of memory.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_second_example_prompt"><a class="anchor" href="#_second_example_prompt"></a>Second Example Prompt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Similar to the previous example, except we use the City of London, and run a cell to remove the verbose text reguarding what is sent or recieved apart from the answer from the model.</p>
</div>
<div class="paragraph">
<p>There is no change to memory setting, but go ahead and evalute where the second input; "Is there a river?" is answer correctly.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_experimentation_with_model"><a class="anchor" href="#_experimentation_with_model"></a>Experimentation with Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add a few new cells to the Notebook.</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="experiment.png" alt="experiment" width="800">
</div>
</div>
<div class="paragraph">
<p>Experiment with clearing the memory statement, then asking the river question again. Or perhaps copy one of the input statements and add your own question for the model.</p>
</div>
<div class="paragraph">
<p>Try not clearing the memory and asking a few questions.</p>
</div>
<div class="paragraph">
<p><strong>You have successfully deployed a Large Language Model, now test the information that it has available and find out what is doesn&#8217;t know.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_delete_the_environment"><a class="anchor" href="#_delete_the_environment"></a>Delete the Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have finished experimenting with questions, make sure you head back to the Red Hat Demo Platform and delete the Openshift Container Platform Cluster.</p>
</div>
<div class="paragraph">
<p>You don&#8217;t have to remove any of the resources; deleting the environment will remove any resources created during this lesson.</p>
</div>
<div class="sect2">
<h3 id="_leave_feedback"><a class="anchor" href="#_leave_feedback"></a>Leave Feedback</h3>
<div class="paragraph">
<p>If you enjoyed this walkthrough, please send the team a note.
If you have suggestions to make it better or clarify a point, please send the team a note.</p>
</div>
<div class="paragraph">
<p>Until next time, Keep being Awesome!</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="section1.html">Jupyter Notebooks</a></span>
  <span class="next"><a href="../appendix/appendix.html">Knowledge Check</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
